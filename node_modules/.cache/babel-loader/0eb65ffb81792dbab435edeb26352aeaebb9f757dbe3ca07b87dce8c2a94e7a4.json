{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_pop_up1 = _resolveComponent(\"pop-up1\");\n  const _component_pop_up2 = _resolveComponent(\"pop-up2\");\n  const _component_pop_up3 = _resolveComponent(\"pop-up3\");\n  const _component_pop_up4 = _resolveComponent(\"pop-up4\");\n  const _component_pop_up5 = _resolveComponent(\"pop-up5\");\n  const _component_v_subheader = _resolveComponent(\"v-subheader\");\n  const _component_ag_grid_vue = _resolveComponent(\"ag-grid-vue\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_createVNode(_component_v_container, {\n    fluid: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, null, {\n        default: _withCtx(() => [_createVNode(_component_v_btn, {\n          onClick: _cache[0] || (_cache[0] = $event => _ctx.reload()),\n          style: {\n            \"background\": \"skyblue\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"재조회\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          onClick: _ctx.sendOrderList,\n          style: {\n            \"background\": \"rgb(101, 126, 234)\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"주문전송\")]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_btn, {\n          onClick: _cache[1] || (_cache[1] = $event => _ctx.openPopup1()),\n          style: {\n            \"background\": \"rgb(102, 174, 205)\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"주문등록\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          onClick: _cache[2] || (_cache[2] = $event => _ctx.openPopup2()),\n          style: {\n            \"background\": \"pink\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"종목정보\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          onClick: _cache[3] || (_cache[3] = $event => _ctx.openPopup3()),\n          style: {\n            \"background\": \"orange\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"장중동향\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          onClick: _cache[4] || (_cache[4] = $event => _ctx.openPopup4()),\n          style: {\n            \"background\": \"sienna\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"관심종목\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          onClick: _cache[5] || (_cache[5] = $event => _ctx.openPopup5()),\n          style: {\n            \"background\": \"rgb(125, 160, 45)\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"종목검색\")]),\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"popup-view\", {\n      active: _ctx.popupView1\n    }])\n  }, [_createVNode(_component_pop_up1, {\n    onClosePopup: _cache[6] || (_cache[6] = $event => _ctx.openPopup1())\n  })], 2 /* CLASS */), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"popup-view\", {\n      active: _ctx.popupView2\n    }])\n  }, [_createVNode(_component_pop_up2, {\n    onClosePopup: _cache[7] || (_cache[7] = $event => _ctx.openPopup2())\n  })], 2 /* CLASS */), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"popup-view\", {\n      active: _ctx.popupView3\n    }])\n  }, [_createVNode(_component_pop_up3, {\n    onClosePopup: _cache[8] || (_cache[8] = $event => _ctx.openPopup3())\n  })], 2 /* CLASS */), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"popup-view\", {\n      active: _ctx.popupView4\n    }])\n  }, [_createVNode(_component_pop_up4, {\n    onClosePopup: _cache[9] || (_cache[9] = $event => _ctx.openPopup4())\n  })], 2 /* CLASS */), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"popup-view\", {\n      active: _ctx.popupView5\n    }])\n  }, [_createVNode(_component_pop_up5, {\n    onClosePopup: _cache[10] || (_cache[10] = $event => _ctx.openPopup5())\n  })], 2 /* CLASS */), _createElementVNode(\"div\", null, [_createVNode(_component_v_container, {\n    fluid: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        align: \"left\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_subheader, null, {\n          default: _withCtx(() => [_createTextVNode(\" [일별 주문 내역] \")]),\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_col, {\n        align: \"right\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_btn, {\n          onClick: _cache[11] || (_cache[11] = $event => _ctx.deleteOrder()),\n          style: {\n            \"background\": \"hwb(349 0% 0%)\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"[주문삭제]\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          onClick: _cache[12] || (_cache[12] = $event => _ctx.cancelOrder()),\n          style: {\n            \"background\": \"hsl(64, 70%, 61%)\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"[주문취소]\")]),\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_ag_grid_vue, {\n      style: {\n        \"width\": \"100%\",\n        \"height\": \"300px\"\n      },\n      class: \"ag-theme-balham\",\n      columnDefs: _ctx.colDefs1,\n      rowData: _ctx.rowData1,\n      paginationAutoPageSize: true,\n      pagination: true,\n      defaultColDef: _ctx.defaultColDef1,\n      onCellClicked: _ctx.onCellClicked\n    }, null, 8 /* PROPS */, [\"columnDefs\", \"rowData\", \"defaultColDef\", \"onCellClicked\"])]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", null, [_createVNode(_component_v_container, {\n    fluid: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        align: \"left\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_subheader, null, {\n          default: _withCtx(() => [_createTextVNode(\" [일별 주문 체결] \")]),\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_ag_grid_vue, {\n      style: {\n        \"width\": \"100%\",\n        \"height\": \"300px\"\n      },\n      class: \"ag-theme-balham\",\n      columnDefs: _ctx.colDefs2,\n      rowData: _ctx.rowData2,\n      paginationAutoPageSize: true,\n      pagination: true,\n      defaultColDef: _ctx.defaultColDef2,\n      onCellClicked: _ctx.onCellClicked\n    }, null, 8 /* PROPS */, [\"columnDefs\", \"rowData\", \"defaultColDef\", \"onCellClicked\"]), _createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, null, {\n        default: _withCtx(() => [_createVNode(_component_v_btn, {\n          onClick: _cache[13] || (_cache[13] = $event => _ctx.sendLevel(1)),\n          style: {\n            \"background\": \"lightyellow\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"[하락지속 기술적반등]\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          onClick: _cache[14] || (_cache[14] = $event => _ctx.sendLevel(2)),\n          style: {\n            \"background\": \"lightsteelblue\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"[단기추세 기술적반등]\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          onClick: _cache[15] || (_cache[15] = $event => _ctx.sendLevel(3)),\n          style: {\n            \"background\": \"greenyellow\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"[패턴 기술적반등]\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          onClick: _cache[16] || (_cache[16] = $event => _ctx.sendLevel(4)),\n          style: {\n            \"background\": \"greenyellow\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"[추세전환 눌림반등]\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          onClick: _cache[17] || (_cache[17] = $event => _ctx.sendLevel(5)),\n          style: {\n            \"background\": \"greenyellow\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"[상승지속 기술적반등]\")]),\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  })])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","_createVNode","_component_v_container","fluid","_component_v_row","_component_v_col","_component_v_btn","onClick","_ctx","style","class","active","_component_pop_up1","onClosePopup","_component_pop_up2","_component_pop_up3","_component_pop_up4","_component_pop_up5","align","_component_v_subheader","_component_ag_grid_vue","columnDefs","rowData","paginationAutoPageSize","pagination","defaultColDef","onCellClicked"],"sourceRoot":"","sources":["/home/terra/Github/fund_risk_management/src/views/StockOrder.vue"],"sourcesContent":["<template>\n  <div>\n    <v-container fluid>\n      <v-row>\n        <v-col>\n          <v-btn @click=\"reload()\" style=\"background: skyblue\">재조회</v-btn>\n          <v-btn @click=\"sendOrderList\" style=\"background: rgb(101, 126, 234)\">주문전송</v-btn>\n          <v-btn @click=\"openPopup1()\" style=\"background: rgb(102, 174, 205)\">주문등록</v-btn>\n          <v-btn @click=\"openPopup2()\" style=\"background: pink\">종목정보</v-btn>            \n          <v-btn @click=\"openPopup3()\" style=\"background: orange\">장중동향</v-btn>\n          <v-btn @click=\"openPopup4()\" style=\"background: sienna\">관심종목</v-btn>\n          <v-btn @click=\"openPopup5()\" style=\"background: rgb(125, 160, 45)\">종목검색</v-btn>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n  <div class=\"popup-view\" :class=\"{active: popupView1}\">\n    <pop-up1 @close-popup=\"openPopup1()\"></pop-up1>\n  </div>\n  <div class=\"popup-view\" :class=\"{active: popupView2}\">\n    <pop-up2 @close-popup=\"openPopup2()\"></pop-up2>\n  </div>\n  <div class=\"popup-view\" :class=\"{active: popupView3}\">\n    <pop-up3 @close-popup=\"openPopup3()\"></pop-up3>\n  </div>\n  <div class=\"popup-view\" :class=\"{active: popupView4}\">\n    <pop-up4 @close-popup=\"openPopup4()\"></pop-up4>\n  </div>\n  <div class=\"popup-view\" :class=\"{active: popupView5}\">\n    <pop-up5 @close-popup=\"openPopup5()\"></pop-up5>\n  </div>\n  <div>\n    <v-container fluid>\n      <v-row>\n        <v-col align=\"left\">\n          <v-subheader>\n            [일별 주문 내역]\n          </v-subheader>\n        </v-col>\n        <v-col align=\"right\">\n          <v-btn @click=\"deleteOrder()\" style=\"background: hwb(349 0% 0%)\">[주문삭제]</v-btn>\n          <v-btn @click=\"cancelOrder()\" style=\"background: hsl(64, 70%, 61%)\">[주문취소]</v-btn>\n        </v-col>\n      </v-row>\n      <ag-grid-vue \n        style=\"width: 100%; height: 300px;\" \n        class=\"ag-theme-balham\" \n        :columnDefs=\"colDefs1\" \n        :rowData=\"rowData1\" \n        :paginationAutoPageSize=\"true\"\n        :pagination=\"true\"\n        :defaultColDef=\"defaultColDef1\"\n        @cellClicked=\"onCellClicked\"\n      />\n    </v-container>\n  </div>\n  <div>\n    <v-container fluid>\n      <v-row>\n        <v-col align=\"left\">\n          <v-subheader>\n            [일별 주문 체결]\n          </v-subheader>\n        </v-col>\n      </v-row>\n      <ag-grid-vue \n        style=\"width: 100%; height: 300px;\" \n        class=\"ag-theme-balham\" \n        :columnDefs=\"colDefs2\" \n        :rowData=\"rowData2\" \n        :paginationAutoPageSize=\"true\"\n        :pagination=\"true\"\n        :defaultColDef=\"defaultColDef2\"\n        @cellClicked=\"onCellClicked\"\n      />\n      <v-row>\n        <v-col>\n          <v-btn @click=\"sendLevel(1)\" style=\"background: lightyellow\">[하락지속 기술적반등]</v-btn>\n          <v-btn @click=\"sendLevel(2)\" style=\"background: lightsteelblue\">[단기추세 기술적반등]</v-btn>\n          <v-btn @click=\"sendLevel(3)\" style=\"background: greenyellow\">[패턴 기술적반등]</v-btn>\n          <v-btn @click=\"sendLevel(4)\" style=\"background: greenyellow\">[추세전환 눌림반등]</v-btn>\n          <v-btn @click=\"sendLevel(5)\" style=\"background: greenyellow\">[상승지속 기술적반등]</v-btn>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>  \n</template>\n<script>\nimport axios from \"axios\";\nimport PopUp1 from '../components/OrderInfo.vue'\nimport PopUp2 from '../components/StockInfo.vue'\nimport PopUp3 from '../components/SubjectSubTotal.vue'\nimport PopUp4 from '../components/InterestItem.vue'\nimport PopUp5 from '../components/StockSearch.vue'\nimport { ref, defineComponent } from 'vue';\nimport {AgGridVue} from 'ag-grid-vue3';\nimport 'ag-grid-community/styles/ag-grid.css';\nimport 'ag-grid-community/styles/ag-theme-balham.css';\nimport 'ag-grid-community/styles/ag-theme-quartz.css';\n\nlet url = \"http://phills2.asuscomm.com:8000/kis/stockOrder/\"; //장고 서버 주소\n\nexport default defineComponent({\n  name: 'App',\n  components:{\n    AgGridVue,\n    PopUp1,\n    PopUp2,\n    PopUp3,\n    PopUp4,\n    PopUp5,\n  },\n  setup(){\n\n    const defaultColDef1 = ref({\n      flex: 1,\n      minWidth: 100,\n      //editable: true,\n    });\n\n    const defaultColDef2 = ref({\n      flex: 1,\n      minWidth: 100,\n      //editable: true,\n    });\n\n    const colDefs1 = ref([\n      {headerName: 'No', colId: 0, valueGetter: (params) => { return params.node.rowIndex + 1 } },\n      {headerName: '선택', field: 'chk', editable: true, cellRenderer:'agCheckboxCellRenderer', cellEditor: 'agCheckboxCellEditor'},\n      {headerName: '종목코드', field: 'code'},\n      {headerName: '종목명', field: 'name'},\n      {headerName: '매수가', field: 'buy_price', valueSetter: params => {\n        if(params.data.order_stat === '02' || params.data.order_stat === '05'){                       \n          params.data.buy_price = params.newValue;\n\n          axios({\n            method: \"GET\",\n            url: \"http://phills2.asuscomm.com:8000/stockOrder/update/\",\n            params:{\n              id: params.data.id,\n              order_no: params.data.order_no,\n              buy_price: params.newValue,\n              sell_price: 0,\n              order_amount: params.data.remain_qty,\n              acct_no: params.data.acct_no,\n              app_key: params.data.app_key,\n              app_secret: params.data.app_secret,\n              access_token: params.data.access_token\n            }\n            \n          }).then(response => {\n            console.log(\"Success\", response)\n            alert(\"매수가변경 완료\")\n            if(response.data[0].message != \"\")\n              alert(response.data[0].message)\n          }).catch(error => {\n            alert(\"매수가변경 실패\")\n            console.log(\"Failed to updateBuyOrder\", error.response);\n          });\n          return true;\n        }else{\n          return false;\n        }\n      }, editable: true, cellEditor: 'agTextCellEditor', cellEditorParams: { min: 0, max: 9999999 }, valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '매수량', field: 'buy_amount', valueFormatter: (params) => {return params.value.toLocaleString() + '주';},},\n      {headerName: '매도가', field: 'sell_price', valueSetter: params => {\n        if(params.data.order_stat === '02' || params.data.order_stat === '05'){       \n          params.data.sell_price = params.newValue;\n          \n          axios({\n            method: \"GET\",\n            url: \"http://phills2.asuscomm.com:8000/stockOrder/update/\",\n            params:{\n              id: params.data.id,\n              order_no: params.data.order_no,\n              buy_price: 0,\n              sell_price: params.newValue,\n              order_amount: params.data.remain_qty,\n              acct_no: params.data.acct_no,\n              app_key: params.data.app_key,\n              app_secret: params.data.app_secret,\n              access_token: params.data.access_token\n            }\n                  \n          }).then(response => {\n            console.log(\"Success\", response)\n            alert(\"매도가변경 완료\")\n            if(response.data[0].message != \"\")\n              alert(response.data[0].message)\n          }).catch(error => {\n            alert(\"매도가변경 실패\")\n            console.log(\"Failed to updateBuyOrder\", error.response);\n          });\n          return true;\n        }else{\n          return false;\n        }\n      }, editable: true, cellEditor: 'agTextCellEditor', cellEditorParams: { min: 0, max: 9999999 }, valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '매도량', field: 'sell_amount', valueFormatter: (params) => {return params.value.toLocaleString() + '주';},},\n      {headerName: '손절가', field: 'loss_price', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '목표가', field: 'target_price', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '매매유형', field: 'trading_type', valueFormatter: (params) => {return params.value === 'B' ? '매수' : params.value === 'S' ? '매도' : ''},},\n      {headerName: '주문번호', field: 'order_no'},\n      {headerName: '주문상태', field: 'order_stat', valueFormatter: (params) => {return params.value === '01' ? '주문등록' : params.value === '02' ? '주문전송' : params.value === '03' ? '주문체결' : params.value === '04' ? '주문취소' : params.value === '05' ? '주문정정' : ''},},\n      {headerName: '체결량', field: 'total_complete_qty', valueFormatter: (params) => {return params.value.toLocaleString() + '주';},},\n      {headerName: '잔여량', field: 'remain_qty', valueFormatter: (params) => {return params.value.toLocaleString() + '주';},},\n    ]);\n\n    const colDefs2 = ref([\n      {headerName: 'No', colId: 0, valueGetter: (params) => { return params.node.rowIndex + 1 } },\n      {headerName: '주문번호', field: 'order_no'},\n      {headerName: '원주문번호', field: 'org_order_no'},\n      {headerName: '주문구분', field: 'order_type'},\n      {headerName: '주문일자', field: 'order_dt', valueFormatter: (params) => {return params.value.substr(0, 4) + \"-\" + params.value.substr(4,2) + \"-\" + params.value.substr(6, 2)},},\n      {headerName: '주문시각', field: 'order_tmd', valueFormatter: (params) => {return params.value.substr(0, 2) + \":\" + params.value.substr(2,2) + \":\" + params.value.substr(4, 2)},},\n      {headerName: '종목명', field: 'name', tooltip: true, tolltipField: 'name'},\n      {headerName: '주문가', field: 'order_price', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '주문수량', field: 'order_amount', valueFormatter: (params) => {return params.value.toLocaleString() + '주';},},\n      {headerName: '총체결수량', field: 'total_complete_qty', valueFormatter: (params) => {return params.value.toLocaleString() + '주';},},\n      {headerName: '잔여수량', field: 'remain_qty', valueFormatter: (params) => {return params.value.toLocaleString() + '주';},},\n      {headerName: '총체결금액', field: 'total_complete_amt', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n    ]);\n    return {\n      defaultColDef1,\n      colDefs1,\n      defaultColDef2,\n      colDefs2\n    }\n  },\n  data: () => {\n      return {\n          popupView1: false,\n          popupView2: false,\n          popupView3: false,\n          popupView4: false,\n          popupView5: false,\n          rowData1: [],\n          rowData2: [],\n          radioSel: 'limit',\n          selected: 'B',\n          options: [\n            { text: '매수', value: 'B' },\n            { text: '매도', value: 'S' }          \n          ],\n          data: {\n              code: \"\",\n              name: \"\",\n              buy_price: \"\",\n              buy_amount: \"\",\n              sell_price: \"\",\n              sell_amount: \"\",\n              loss_price: \"\",\n              target_price: \"\",\n          },\n      };\n  },\n  methods: {\n    deleteOrder: function(){\n      this.rowData1.forEach(data =>{\n        if(data.chk){\n          if(data.order_stat === '01'){\n            axios({\n              method: \"DELETE\",\n              url: url + data.id + \"/\", // http://phills2.asuscomm.com:8000/kis/stockOrder/1 로 delete 이벤트 전송\n            }).then((response) => {\n              console.log(\"Success\", response);\n              alert(\"주문삭제 완료\")\n              this.getOrderCompleteList();\n              this.getStockOrderList();\n            }).catch((error) => {\n              console.log(\"Failed to deleteOrder\", error.response);\n              alert(\"주문삭제 실패\")\n            });\n          }else{\n            alert(\"주문삭제 대상 주문상태가 아닙니다.\")\n          }\n        } \n      })\n    },\n    cancelOrder: function(){\n      this.rowData1.forEach(data =>{\n        if(data.chk){\n          if(data.order_stat === '02' || data.order_stat === '03' || data.order_stat === '05'){\n            let order_price = 0\n            if(data.trading_type === 'B'){\n              order_price = data.buy_price\n            }else{\n              order_price = data.sell_price\n            }  \n            axios({\n              method: \"GET\",\n              url: \"http://phills2.asuscomm.com:8000/stockOrder/cancel/\",\n              params:{\n                id: data.id,\n                order_no: data.order_no,\n                order_price: order_price,\n                order_amount: data.remain_qty,\n                acct_no: data.acct_no,\n                app_key: data.app_key,\n                app_secret: data.app_secret,\n                access_token: data.access_token\n              }\n            }).then((response) => {\n              console.log(\"Success\", response);\n              alert(\"주문취소 완료\")\n              this.getOrderCompleteList();\n              this.getStockOrderList();\n            }).catch((error) => {\n              console.log(\"Failed to cancelOrder\", error.response);\n              alert(\"주문취소 실패\")\n            });\n          }else{\n            alert(\"주문취소 대상 주문상태가 아닙니다.\")\n          }\n        } \n      })\n    },\n    openPopup1() {\n      this.popupView1 = (this.popupView1) ? false : true\n    },\n    openPopup2(){\n      this.popupView2 = (this.popupView2) ? false : true\n    },\n    openPopup3(){\n      this.popupView3 = (this.popupView3) ? false : true\n    },\n    openPopup4(){\n      this.popupView4 = (this.popupView4) ? false : true\n    },\n    openPopup5(){\n      this.popupView5 = (this.popupView5) ? false : true\n    },\n    sendLevel: function(level){\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.asuscomm.com:8000/stockMarketMng/list/\",\n        params:{\n          market_level: level,\n          acct_no: this.$route.params.acct_no,\n          app_key: this.$route.params.app_key,\n          app_secret: this.$route.params.app_secret,\n          access_token: this.$route.params.access_token\n        }\n        \n      }).then(response => {\n        console.log(\"Success\", response)\n        alert(\"처리 완료\")\n      }).catch(error => {\n        alert(\"처리 에러\")\n        console.log(\"Failed to send StockMarketLevelMng\", error.response);\n      });\n    },\n    sendOrderList() {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.asuscomm.com:8000/stockOrder/send/\",\n        params:{\n          acct_no: this.$route.params.acct_no,\n          app_key: this.$route.params.app_key,\n          app_secret: this.$route.params.app_secret,\n          access_token: this.$route.params.access_token\n        }\n      }).then(response => {\n        alert(\"주문전송 완료\")\n        this.rowData1 = response.data;\n        if(response.data[0].message != \"\")\n          alert(response.data[0].message)\n        console.log(\"Success\", response);\n        this.getOrderCompleteList();\n        this.getStockOrderList();\n      }).catch(error => {\n          alert(\"주문전송 실패\")\n          console.log(\"Failed to send OrderList\", error.response);\n      });\n    },\n    reload(){\n      this.getOrderCompleteList();\n      this.getStockOrderList();\n    },  \n    getStockOrderList() {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.asuscomm.com:8000/stockOrder/orderList/\",\n        params:{\n          acct_no: this.$route.params.acct_no,\n          app_key: this.$route.params.app_key,\n          app_secret: this.$route.params.app_secret,\n          access_token: this.$route.params.access_token\n        }\n      }).then(response => {\n        console.log(\"Success1\", response);\n        this.rowData1 = response.data;\n        this.rowData1.forEach(data => {data.acct_no = this.$route.params.acct_no})\n        this.rowData1.forEach(data => {data.app_key = this.$route.params.app_key})\n        this.rowData1.forEach(data => {data.app_secret = this.$route.params.app_secret})\n        this.rowData1.forEach(data => {data.access_token = this.$route.params.access_token})\n      }).catch(error => {\n        console.log(\"Failed to get StockOrderList\", error.response);\n      });\n    },\n    getOrderCompleteList() {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.asuscomm.com:8000/stockOrderComplete/\",\n        params:{\n          acct_no: this.$route.params.acct_no,\n          app_key: this.$route.params.app_key,\n          app_secret: this.$route.params.app_secret,\n          access_token: this.$route.params.access_token\n        }\n      }).then(response => {\n        console.log(\"Success2\", response);\n        this.rowData2 = response.data;\n      }).catch(error => {\n        alert(\"처리 에러\")\n        console.log(\"Failed to get OrderCompleteList\", error.response);\n      });\n    },\n  },\n  created(){\n    this.getOrderCompleteList();\n    this.getStockOrderList();\n  }\n});\n\n</script>\n<style>\n.popup-view{\nopacity: 0;\ndisplay: none;\nvisibility: hidden;\n}\n.active{\nopacity: 1;\ndisplay: block;\nvisibility: visible;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}