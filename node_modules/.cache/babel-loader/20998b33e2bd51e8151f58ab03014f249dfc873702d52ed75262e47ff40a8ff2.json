{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nlet url = \"http://phills2.gonetis.com:8000/kis/stockOrder/\"; //장고 서버 주소\n\nexport default {\n  name: 'App',\n  data: () => {\n    return {\n      stock_asset_num: null,\n      stock_asset_risk_num: null,\n      radioSel: 'limit',\n      selected: 'B',\n      options: [{\n        text: '매수',\n        value: 'B'\n      }, {\n        text: '매도',\n        value: 'S'\n      }],\n      data: {\n        code: \"\",\n        name: \"\",\n        buy_price: \"\",\n        buy_amount: \"\",\n        sell_price: \"\",\n        sell_amount: \"\",\n        loss_price: \"\",\n        target_price: \"\"\n      }\n    };\n  },\n  methods: {\n    sendForm: function () {\n      if (this.radioSel == 'market') {\n        this.data.buy_price = '-1';\n        this.data.sell_price = '-1';\n      } else if (this.radioSel == 'bflow') {\n        this.data.buy_amount = '0';\n        this.stock_asset_num = '0';\n      } else if (this.radioSel == 'loss') {\n        this.data.buy_amount = '0';\n      } else if (this.radioSel == 'sflow') {\n        this.data.sell_amount = '0';\n      } else if (this.radioSel == 'half') {\n        this.data.sell_amount = '0';\n        this.stock_asset_num = '0';\n      }\n      if (this.selected == 'B') {\n        axios({\n          method: \"POST\",\n          url: url,\n          data: {\n            acct_no: this.$route.params.acct_no,\n            code: this.data.code,\n            name: this.data.name,\n            buy_price: this.data.buy_price,\n            buy_amount: this.data.buy_amount,\n            sell_price: 0,\n            sell_amount: 0,\n            loss_price: this.data.loss_price,\n            target_price: this.data.target_price,\n            trading_type: \"B\",\n            asset_risk_num: this.stock_asset_risk_num,\n            asset_num: this.stock_asset_num,\n            proc_yn: \"N\",\n            order_no: \"0\",\n            order_stat: \"01\",\n            total_complete_qty: 0,\n            remain_qty: 0\n          }\n        }).then(response => {\n          console.log(\"Success\", response);\n          alert(\"주문저장 완료\");\n          this.$router.push('/').catch(() => {});\n          this.clearForm();\n        }).catch(error => {\n          alert(\"주문저장 실패\");\n          console.log(\"Failed to StockOrder Save\", error.response);\n        });\n      } else {\n        axios({\n          method: \"POST\",\n          url: url,\n          data: {\n            acct_no: this.$route.params.acct_no,\n            code: this.data.code,\n            name: this.data.name,\n            buy_price: 0,\n            buy_amount: 0,\n            sell_price: this.data.sell_price,\n            sell_amount: this.data.sell_amount,\n            loss_price: 0,\n            target_price: 0,\n            trading_type: \"S\",\n            asset_risk_num: this.stock_asset_risk_num,\n            asset_num: this.stock_asset_num,\n            proc_yn: \"N\",\n            order_no: \"0\",\n            order_stat: \"01\",\n            total_complete_qty: 0,\n            remain_qty: 0\n          }\n        }).then(response => {\n          console.log(\"Success\", response);\n          alert(\"주문저장 완료\");\n          this.$router.push('/').catch(() => {});\n          this.clearForm();\n        }).catch(error => {\n          alert(\"주문저장 실패\");\n          console.log(\"Failed to StockOrder Save\", error.response);\n        });\n      }\n    },\n    clearForm: function () {\n      this.data.code = \"\", this.data.name = \"\", this.data.buy_price = \"\", this.data.buy_amount = \"\", this.data.sell_price = \"\", this.data.sell_amount = \"\", this.data.loss_price = \"\", this.data.target_price = \"\";\n    },\n    getAssetInfo() {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/assetInfo/\",\n        params: {\n          acct_no: this.$route.params.acct_no,\n          app_key: this.$route.params.app_key,\n          app_secret: this.$route.params.app_secret,\n          access_token: this.$route.params.access_token\n        }\n      }).then(response => {\n        console.log(\"Success\", response);\n        this.stock_asset_num = response.data[0].stock_asset_num;\n        this.stock_asset_risk_num = response.data[0].stock_asset_risk_num;\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to get AssetInfo\", error.response);\n      });\n    }\n  },\n  created() {\n    this.getAssetInfo();\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","url","name","data","stock_asset_num","stock_asset_risk_num","radioSel","selected","options","text","value","code","buy_price","buy_amount","sell_price","sell_amount","loss_price","target_price","methods","sendForm","method","acct_no","$route","params","trading_type","asset_risk_num","asset_num","proc_yn","order_no","order_stat","total_complete_qty","remain_qty","then","response","console","log","alert","$router","push","catch","clearForm","error","getAssetInfo","app_key","app_secret","access_token","created"],"sourceRoot":"","sources":["/home/terra/Github/fund_risk_management/src/components/OrderInfo.vue"],"sourcesContent":["<template>\n    <div>\n      <v-container fluid>\n        <v-row>\n          <v-col align=\"center\">\n            <v-subheader>\n              [주문]\n            </v-subheader>\n            <select v-model=\"selected\">\n              <option v-for=\"(d, i) in options\" :key=\"i\" :value=\"d.value\">\n                {{ d.text }}\n              </option>\n            </select>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col align=\"center\" cols=\"12\" v-if=\"selected === 'B'\">\n            <label><input type=\"radio\" value=\"limit\" v-model=\"radioSel\">주문가</label>\n            <label>&nbsp;&nbsp;&nbsp;</label>\n            <label><input type=\"radio\" value=\"market\" v-model=\"radioSel\">시장가</label>\n            <label>&nbsp;&nbsp;&nbsp;</label>\n            <label><input type=\"radio\" value=\"bflow\" v-model=\"radioSel\">시장흐름정액</label>\n            <label>&nbsp;&nbsp;&nbsp;</label>\n            <label><input type=\"radio\" value=\"loss\" v-model=\"radioSel\">종목손실금액</label>\n          </v-col>\n          <v-col align=\"center\" cols=\"12\" v-if=\"selected === 'S'\">\n            <label><input type=\"radio\" value=\"limit\" v-model=\"radioSel\">주문가</label>\n            <label>&nbsp;&nbsp;&nbsp;</label>\n            <label><input type=\"radio\" value=\"market\" v-model=\"radioSel\">시장가</label>\n            <label>&nbsp;&nbsp;&nbsp;</label>\n            <label><input type=\"radio\" value=\"sflow\" v-model=\"radioSel\">시장기준수량</label>\n            <label>&nbsp;&nbsp;&nbsp;</label>\n            <label><input type=\"radio\" value=\"half\" v-model=\"radioSel\">보유물량절반</label>\n          </v-col>\n        </v-row>\n        <v-row v-if=\"selected === 'B'\">\n          <v-col md=\"5\">\n            <v-text-field v-model=\"data.code\" :counter=\"6\" label=\"종목코드\" required></v-text-field>\n          </v-col>\n          <v-col md=\"5\">\n            <v-text-field v-model=\"data.name\" label=\"종목명\" required></v-text-field>\n          </v-col>    \n          <v-col v-show=\"radioSel != 'market'\" md=\"5\">\n            <v-text-field v-model=\"data.buy_price\" label=\"주문단가\" ></v-text-field>\n          </v-col>    \n          <v-col v-show=\"radioSel === 'limit' || radioSel === 'market'\" md=\"5\">\n            <v-text-field v-model=\"data.buy_amount\" label=\"주문수량\" ></v-text-field>\n          </v-col>\n          <v-col md=\"5\">\n            <v-text-field v-model=\"data.loss_price\" label=\"손절가\" ></v-text-field>\n          </v-col>\n          <v-col md=\"5\">\n            <v-text-field v-model=\"data.target_price\" label=\"목표가\" ></v-text-field>\n          </v-col>\n        </v-row>\n        <v-row v-if=\"selected === 'S'\">\n          <v-col md=\"5\">\n            <v-text-field v-model=\"data.code\" :counter=\"6\" label=\"종목코드\" required></v-text-field>\n          </v-col>\n          <v-col md=\"5\">\n            <v-text-field v-model=\"data.name\" label=\"종목명\" required></v-text-field>\n          </v-col>    \n          <v-col v-show=\"radioSel != 'market'\" md=\"5\">\n            <v-text-field v-model=\"data.sell_price\" label=\"매도단가\" ></v-text-field>\n          </v-col>    \n          <v-col v-show=\"radioSel === 'limit' || radioSel === 'market'\" md=\"5\">\n            <v-text-field v-model=\"data.sell_amount\" label=\"매도수량\" ></v-text-field>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-btn @click=\"clearForm\" style=\"background: gray\">초기화</v-btn>\n            <v-btn @click=\"sendForm\" style=\"background: mediumaquamarine\">저장</v-btn>\n          </v-col>\n        </v-row>\n      </v-container>\n    </div>\n      \n</template>\n<script>\n  import axios from \"axios\";\n  \n  let url = \"http://phills2.gonetis.com:8000/kis/stockOrder/\"; //장고 서버 주소\n\n  export default {\n    name: 'App',\n    data: () => {\n        return {\n            stock_asset_num: null,\n            stock_asset_risk_num: null,\n            radioSel: 'limit',\n            selected: 'B',\n            options: [\n              { text: '매수', value: 'B' },\n              { text: '매도', value: 'S' }          \n            ],\n            data: {\n                code: \"\",\n                name: \"\",\n                buy_price: \"\",\n                buy_amount: \"\",\n                sell_price: \"\",\n                sell_amount: \"\",\n                loss_price: \"\",\n                target_price: \"\",\n            },\n        };\n    },\n    methods: {\n      sendForm: function() { \n        if (this.radioSel == 'market'){\n          this.data.buy_price = '-1'\n          this.data.sell_price = '-1'\n        }else if (this.radioSel == 'bflow'){\n          this.data.buy_amount = '0'\n          this.stock_asset_num = '0'\n        }else if (this.radioSel == 'loss'){\n          this.data.buy_amount = '0'\n        }else if (this.radioSel == 'sflow'){\n          this.data.sell_amount = '0'\n        }else if (this.radioSel == 'half'){\n          this.data.sell_amount = '0'\n          this.stock_asset_num = '0'\n        }\n\n        if (this.selected == 'B'){\n          axios({\n            method: \"POST\",\n            url: url,\n            data: {\n              acct_no: this.$route.params.acct_no,\n              code: this.data.code,\n              name: this.data.name,\n              buy_price: this.data.buy_price,\n              buy_amount: this.data.buy_amount,\n              sell_price: 0,\n              sell_amount: 0,\n              loss_price: this.data.loss_price,\n              target_price: this.data.target_price,\n              trading_type: \"B\",\n              asset_risk_num: this.stock_asset_risk_num,\n              asset_num: this.stock_asset_num,\n              proc_yn: \"N\",\n              order_no: \"0\",\n              order_stat: \"01\",\n              total_complete_qty: 0,\n              remain_qty: 0\n            }, \n          }).then((response) => {\n            console.log(\"Success\", response);\n            alert(\"주문저장 완료\")\n            this.$router.push('/').catch(()=>{})\n            this.clearForm();\n          }).catch((error) => {\n            alert(\"주문저장 실패\")\n            console.log(\"Failed to StockOrder Save\", error.response);\n          });\n        }else{\n          axios({\n            method: \"POST\",\n            url: url,\n            data: {\n              acct_no: this.$route.params.acct_no,\n              code: this.data.code,\n              name: this.data.name,\n              buy_price: 0,\n              buy_amount: 0,\n              sell_price: this.data.sell_price,\n              sell_amount: this.data.sell_amount,\n              loss_price: 0,\n              target_price: 0,\n              trading_type: \"S\",\n              asset_risk_num: this.stock_asset_risk_num,\n              asset_num: this.stock_asset_num,\n              proc_yn: \"N\",\n              order_no: \"0\",\n              order_stat: \"01\",\n              total_complete_qty: 0,\n              remain_qty: 0\n            }, \n          }).then((response) => {\n            console.log(\"Success\", response);\n            alert(\"주문저장 완료\")\n            this.$router.push('/').catch(()=>{})\n            this.clearForm();\n          }).catch((error) => {\n            alert(\"주문저장 실패\")\n            console.log(\"Failed to StockOrder Save\", error.response);\n          });\n        }\n      },\n      clearForm: function() {\n        (this.data.code = \"\"),(this.data.name = \"\"),(this.data.buy_price = \"\"),(this.data.buy_amount = \"\"),(this.data.sell_price = \"\"),(this.data.sell_amount = \"\"),(this.data.loss_price = \"\"),(this.data.target_price = \"\");\n      },\n      getAssetInfo() {\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockOrder/assetInfo/\",\n          params:{\n            acct_no: this.$route.params.acct_no,\n            app_key: this.$route.params.app_key,\n            app_secret: this.$route.params.app_secret,\n            access_token: this.$route.params.access_token\n          }\n        }).then(response => {\n          console.log(\"Success\", response);\n          this.stock_asset_num = response.data[0].stock_asset_num\n          this.stock_asset_risk_num = response.data[0].stock_asset_risk_num\n        }).catch(error => {\n          alert(\"처리 에러\")\n          console.log(\"Failed to get AssetInfo\", error.response);\n        });\n      },\n    },\n    created(){\n      this.getAssetInfo();\n    }\n  }\n  \n</script>\n<style>\n.popup-view{\n  opacity: 0;\n  display: none;\n  visibility: hidden;\n}\n.active{\n  opacity: 1;\n  display: block;\n  visibility: visible;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}