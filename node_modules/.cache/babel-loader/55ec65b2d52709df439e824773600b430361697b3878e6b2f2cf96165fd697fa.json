{"ast":null,"code":"import { ref, defineComponent } from 'vue';\nimport axios from \"axios\";\nimport { AgGridVue } from 'ag-grid-vue3';\nimport 'ag-grid-community/styles/ag-grid.css';\nimport 'ag-grid-community/styles/ag-theme-balham.css';\nimport 'ag-grid-community/styles/ag-theme-quartz.css';\nlet url = \"http://phills2.gonetis.com:8000/stockMarketMng/list/\"; //장고 서버 주소\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    AgGridVue\n  },\n  setup() {\n    const defaultColDef = ref({\n      flex: 1,\n      minWidth: 100\n      //editable: true,\n    });\n\n    const colDefs = ref([{\n      headerName: 'No',\n      colId: 0,\n      valueGetter: params => {\n        return params.node.rowIndex + 1;\n      }\n    }, {\n      headerName: '리스크번호',\n      field: 'asset_risk_num'\n    }, {\n      headerName: '시장레벨',\n      field: 'market_level_num'\n    }, {\n      headerName: '총자산',\n      field: 'total_asset',\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '리스크',\n      field: 'risk_rate',\n      valueFormatter: params => {\n        return params.value.toLocaleString() + '%';\n      }\n    }, {\n      headerName: '리스크 금액',\n      field: 'risk_sum',\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '종목수',\n      field: 'item_number',\n      valueFormatter: params => {\n        return params.value.toLocaleString() + '개';\n      }\n    }, {\n      headerName: '종목당 리스크',\n      field: 'item_risk_sum',\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '적용시작일',\n      field: 'aply_start_dt',\n      valueFormatter: params => {\n        return params.value.substr(0, 4) + \"-\" + params.value.substr(4, 2) + \"-\" + params.value.substr(6, 2);\n      }\n    }, {\n      headerName: '적용종료일',\n      field: 'aply_end_dt',\n      valueFormatter: params => {\n        return params.value.substr(0, 4) + \"-\" + params.value.substr(4, 2) + \"-\" + params.value.substr(6, 2);\n      }\n    }]);\n    return {\n      defaultColDef,\n      colDefs\n    };\n  },\n  data: () => {\n    return {\n      rowData: [],\n      acct_no: null,\n      app_key: null,\n      app_secret: null,\n      access_token: null\n    };\n  },\n  methods: {\n    formatDate(str) {\n      return str.split('T')[0];\n    },\n    getLevel() {\n      axios({\n        method: \"GET\",\n        url: url,\n        params: {\n          acct_no: this.$route.params.acct_no,\n          app_key: this.$route.params.app_key,\n          app_secret: this.$route.params.app_secret,\n          access_token: this.$route.params.access_token\n        }\n      }).then(response => {\n        this.rowData = response.data;\n        console.log(\"Success\", response);\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to get StockMarketLevelMng\", error.response);\n      });\n    }\n  },\n  created() {\n    this.getLevel();\n  }\n});","map":{"version":3,"mappings":"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","names":["ref","defineComponent","axios","AgGridVue","url","name","components","setup","defaultColDef","flex","minWidth","colDefs","headerName","colId","valueGetter","params","node","rowIndex","field","valueFormatter","value","toLocaleString","substr","data","rowData","acct_no","app_key","app_secret","access_token","methods","formatDate","str","split","getLevel","method","$route","then","response","console","log","catch","error","alert","created"],"sourceRoot":"","sources":["/home/terra/Github/fund_risk_management/src/views/MarketLevelMng.vue"],"sourcesContent":["<template>\n  <div>\n    <v-container fluid>\n      <v-row>\n        <v-col align=\"center\">\n          <v-subheader>\n            [시장 레벨 관리]\n          </v-subheader>\n        </v-col>\n      </v-row>\n      <ag-grid-vue \n        style=\"width: 100%; height: 300px;\" \n        class=\"ag-theme-balham\" \n        :columnDefs=\"colDefs\" \n        :rowData=\"rowData\" \n        :paginationAutoPageSize=\"true\"\n        :pagination=\"true\"\n        :defaultColDef=\"defaultColDef\"\n      />\n    </v-container>    \n  </div>\n</template>\n<script>\nimport { ref, defineComponent } from 'vue';\nimport axios from \"axios\";\nimport {AgGridVue} from 'ag-grid-vue3';\nimport 'ag-grid-community/styles/ag-grid.css';\nimport 'ag-grid-community/styles/ag-theme-balham.css';\nimport 'ag-grid-community/styles/ag-theme-quartz.css';\n\nlet url = \"http://phills2.gonetis.com:8000/stockMarketMng/list/\"; //장고 서버 주소\n\nexport default defineComponent({\nname: 'App',\ncomponents:{\n  AgGridVue\n},\nsetup(){\n\n  const defaultColDef = ref({\n    flex: 1,\n    minWidth: 100,\n    //editable: true,\n  });\n\n  const colDefs = ref([\n    {headerName: 'No', colId: 0, valueGetter: (params) => { return params.node.rowIndex + 1 } },\n    {headerName: '리스크번호', field: 'asset_risk_num'},\n    {headerName: '시장레벨', field: 'market_level_num'},\n    {headerName: '총자산', field: 'total_asset', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n    {headerName: '리스크', field: 'risk_rate', valueFormatter: (params) => {return  params.value.toLocaleString() + '%';},},\n    {headerName: '리스크 금액', field: 'risk_sum', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n    {headerName: '종목수', field: 'item_number', valueFormatter: (params) => {return  params.value.toLocaleString() + '개';},},\n    {headerName: '종목당 리스크', field: 'item_risk_sum', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n    {headerName: '적용시작일', field: 'aply_start_dt', valueFormatter: (params) => {return params.value.substr(0, 4) + \"-\" + params.value.substr(4,2) + \"-\" + params.value.substr(6, 2)},},\n    {headerName: '적용종료일', field: 'aply_end_dt', valueFormatter: (params) => {return params.value.substr(0, 4) + \"-\" + params.value.substr(4,2) + \"-\" + params.value.substr(6, 2)},},\n  ]);\n\n  return {\n    defaultColDef,\n    colDefs\n  }\n},\ndata: () => {\n  return {\n    rowData: [],\n    acct_no: null,\n    app_key: null,\n    app_secret: null,\n    access_token: null,\n  };\n},\nmethods: {\n  formatDate(str){\n    return str.split('T')[0];\n  },\n  getLevel(){\n    axios({\n      method: \"GET\",\n      url: url,\n      params: {\n        acct_no: this.$route.params.acct_no,\n        app_key: this.$route.params.app_key,\n        app_secret: this.$route.params.app_secret,\n        access_token: this.$route.params.access_token\n      }\n    }).then(response => {\n      this.rowData = response.data;\n      console.log(\"Success\", response)\n    }).catch(error => {\n      alert(\"처리 에러\")\n      console.log(\"Failed to get StockMarketLevelMng\", error.response);\n    });\n  }\n},\ncreated(){\n  this.getLevel();\n}\n});\n\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}