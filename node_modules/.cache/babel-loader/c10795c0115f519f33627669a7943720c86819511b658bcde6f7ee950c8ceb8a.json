{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      contents1: null,\n      contents2: null,\n      tr_day: null,\n      tr_time: null,\n      charturl: null,\n      selected1: '순매수',\n      options1: [{\n        text: '순매수',\n        value: '순매수'\n      }, {\n        text: '순매도',\n        value: '순매도'\n      }],\n      selected2: '코스피',\n      options2: [{\n        text: '코스피',\n        value: '코스피'\n      }, {\n        text: '코스닥',\n        value: '코스닥'\n      }],\n      data: {\n        tr_subject: null,\n        tr_type: null,\n        market_type: null\n      }\n    };\n  },\n  methods: {\n    fetchData: function () {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\n        params: {\n          tr_subject: '기관',\n          tr_type: this.selected1,\n          market_type: this.selected2\n        }\n      }).then(response => {\n        console.log(\"Success\", response.data);\n        this.contents1 = response.data;\n        this.tr_day = response.data[0].tr_day;\n        this.tr_time = response.data[0].tr_time;\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to searchStock\", error.response);\n      });\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\n        params: {\n          tr_subject: '외국인',\n          tr_type: this.selected1,\n          market_type: this.selected2\n        }\n      }).then(response => {\n        console.log(\"Success\", response.data);\n        this.contents2 = response.data;\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to searchStock\", error.response);\n      });\n    },\n    doInfo(code, name) {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/chart/\",\n        params: {\n          code: code.trim(),\n          company: name.trim()\n        }\n      }).then(response => {\n        console.log(\"Success\", response);\n        this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/\" + response.data[0].name + \"/\";\n        window.open(this.charturl, \"\", \"_blank\");\n        this.charturl = null;\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to searchStock\", error.response);\n      });\n      if (this.charturl != null) window.open(this.charturl, \"\", \"_blank\");\n    }\n  },\n  created() {\n    this.fetchData();\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","data","contents1","contents2","tr_day","tr_time","charturl","selected1","options1","text","value","selected2","options2","tr_subject","tr_type","market_type","methods","fetchData","method","url","params","then","response","console","log","catch","error","alert","doInfo","code","name","trim","company","window","open","created"],"sourceRoot":"","sources":["/home/terra/Public/Frontend/fund_risk_management/src/components/SubjectSubTotal.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <v-container>\r\n        <v-row align=\"center\">\r\n          <v-col>\r\n            <v-subheader>\r\n              [장중 투자자별 매매 상위 - {{this.tr_day}} / {{this.tr_time}} 기준]\r\n            </v-subheader>\r\n          </v-col>\r\n          <v-col>\r\n            <select v-model=\"selected1\" @change=\"fetchData\">\r\n              <option v-for=\"(d, i) in options1\" :key=\"i\" :value=\"d.value\">\r\n                {{ d.text }}\r\n              </option>\r\n            </select>\r\n          </v-col>\r\n          <v-col>\r\n            <select v-model=\"selected2\" @change=\"fetchData\">\r\n              <option v-for=\"(d, i) in options2\" :key=\"i\" :value=\"d.value\">\r\n                {{ d.text }}\r\n              </option>\r\n            </select>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col>\r\n            <v-row>\r\n              <v-col>종목코드</v-col>\r\n              <v-col>종목명</v-col>\r\n              <v-col>수급주체</v-col>\r\n              <v-col>거래수량</v-col>\r\n            </v-row>\r\n            <v-row v-for=\"(item, index) in contents1\" v-bind:key=\"index\">\r\n              <v-col><a @click=\"doInfo(item.code, item.name)\">{{item.code}}</a></v-col>\r\n              <v-col><a @click=\"doInfo(item.code, item.name)\">{{item.name}}</a></v-col>\r\n              <v-col>{{item.tr_subject}}</v-col>\r\n              <v-col>{{item.volumn}}</v-col>\r\n            </v-row>\r\n          </v-col>\r\n          <v-col>\r\n            <v-row>\r\n              <v-col>종목코드</v-col>\r\n              <v-col>종목명</v-col>\r\n              <v-col>수급주체</v-col>\r\n              <v-col>거래수량</v-col>\r\n            </v-row>\r\n            <v-row v-for=\"(item, index) in contents2\" v-bind:key=\"index\">\r\n              <v-col><a @click=\"doInfo(item.code, item.name)\">{{item.code}}</a></v-col>\r\n              <v-col><a @click=\"doInfo(item.code, item.name)\">{{item.name}}</a></v-col>\r\n              <v-col>{{item.tr_subject}}</v-col>\r\n              <v-col>{{item.volumn}}</v-col>\r\n            </v-row>\r\n          </v-col>\r\n          \r\n        </v-row>\r\n        \r\n    </v-container>      \r\n  </div>\r\n</template>\r\n<script>\r\n  import axios from \"axios\";\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n          contents1: null,\r\n          contents2: null,\r\n          tr_day: null,\r\n          tr_time: null,\r\n          charturl: null,\r\n          selected1: '순매수',\r\n          options1: [\r\n            { text: '순매수', value: '순매수' },\r\n            { text: '순매도', value: '순매도' }          \r\n          ],\r\n          selected2: '코스피',\r\n          options2: [\r\n            { text: '코스피', value: '코스피' },\r\n            { text: '코스닥', value: '코스닥' }          \r\n          ],  \r\n          data: {\r\n            tr_subject: null,\r\n            tr_type: null,\r\n            market_type: null,\r\n          }\r\n        };\r\n    },\r\n    methods : {\r\n      fetchData: function(){\r\n        axios({\r\n          method: \"GET\",\r\n          url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\r\n          params:{\r\n            tr_subject: '기관',\r\n            tr_type: this.selected1,\r\n            market_type: this.selected2            \r\n          }\r\n          \r\n        }).then(response => {\r\n          console.log(\"Success\", response.data)\r\n          this.contents1 = response.data;\r\n          this.tr_day = response.data[0].tr_day;\r\n          this.tr_time = response.data[0].tr_time;\r\n        }).catch(error => {\r\n          alert(\"처리 에러\")\r\n          console.log(\"Failed to searchStock\", error.response);\r\n        });\r\n        axios({\r\n          method: \"GET\",\r\n          url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\r\n          params:{\r\n            tr_subject: '외국인',\r\n            tr_type: this.selected1,\r\n            market_type: this.selected2            \r\n          }\r\n          \r\n        }).then(response => {\r\n          console.log(\"Success\", response.data)\r\n          this.contents2 = response.data;\r\n        }).catch(error => {\r\n          alert(\"처리 에러\")\r\n          console.log(\"Failed to searchStock\", error.response);\r\n        });\r\n      },\r\n      doInfo(code, name){\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"http://phills2.gonetis.com:8000/stockOrder/chart/\",\r\n            params:{\r\n              code: code.trim(),\r\n              company: name.trim(),\r\n            }\r\n            \r\n          }).then(response => {\r\n            console.log(\"Success\", response)\r\n            this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/\"+response.data[0].name+\"/\"\r\n            window.open(this.charturl, \"\", \"_blank\"); \r\n            this.charturl = null\r\n          }).catch(error => {\r\n            alert(\"처리 에러\")\r\n            console.log(\"Failed to searchStock\", error.response);\r\n          }); \r\n        if(this.charturl != null) \r\n            window.open(this.charturl, \"\", \"_blank\"); \r\n      },\r\n    },\r\n    created() { \r\n      this.fetchData();\r\n    }\r\n  }\r\n</script>\r\n  \r\n\r\n  \r\n  \r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}