{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      result: null,\n      contents1: null,\n      contents2: null,\n      yyyy: null,\n      mm: null,\n      dd: null,\n      hour: null,\n      minute: null,\n      charturl: null,\n      selected1: '순매수',\n      options1: [{\n        text: '순매수',\n        value: '순매수'\n      }, {\n        text: '순매도',\n        value: '순매도'\n      }],\n      selected2: '코스피',\n      options2: [{\n        text: '코스피',\n        value: '코스피'\n      }, {\n        text: '코스닥',\n        value: '코스닥'\n      }],\n      data: {\n        tr_subject: null,\n        tr_type: null,\n        market_type: null\n      }\n    };\n  },\n  methods: {\n    fetchData: function () {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\n        params: {\n          tr_subject: '기관',\n          tr_type: this.selected1,\n          market_type: this.selected2\n        }\n      }).then(response => {\n        console.log(\"Success\", response.data);\n        this.contents1 = response.data;\n        this.yyyy = response.data[0].tr_day.substr(0, 4) + \"년\";\n        this.mm = response.data[0].tr_day.substr(4, 2) + \"월\";\n        this.dd = response.data[0].tr_day.substr(6, 2) + \"일\";\n        this.hour = response.data[0].tr_time.substr(0, 2) + \"시\";\n        this.minute = response.data[0].tr_time.substr(2, 2) + \"분\";\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to fetchData\", error.response);\n      });\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\n        params: {\n          tr_subject: '외국인',\n          tr_type: this.selected1,\n          market_type: this.selected2\n        }\n      }).then(response => {\n        console.log(\"Success\", response.data);\n        this.contents2 = response.data;\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to fetchData\", error.response);\n      });\n    },\n    doInfo(code, name) {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/chart/\",\n        params: {\n          code: code.trim(),\n          company: name.trim()\n        }\n      }).then(response => {\n        console.log(\"Success\", response);\n        this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/\" + response.data[0].name + \"/\";\n        window.open(this.charturl, \"\", \"_blank\");\n        this.charturl = null;\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to doInfo\", error.response);\n      });\n      if (this.charturl != null) window.open(this.charturl, \"\", \"_blank\");\n    }\n  },\n  created() {\n    this.fetchData();\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","data","result","contents1","contents2","yyyy","mm","dd","hour","minute","charturl","selected1","options1","text","value","selected2","options2","tr_subject","tr_type","market_type","methods","fetchData","method","url","params","then","response","console","log","tr_day","substr","tr_time","catch","error","alert","doInfo","code","name","trim","company","window","open","created"],"sourceRoot":"","sources":["/home/terra/Public/Frontend/fund_risk_management/src/components/SubjectSubTotal.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <v-container>\r\n        <v-row align=\"center\">\r\n          <v-col>\r\n            <v-subheader>\r\n              [장중 투자자별 매매 상위 - {{this.yyyy}} {{this.mm}} {{this.dd}} {{this.hour}} {{this.minute}} 기준]\r\n            </v-subheader>\r\n          </v-col>\r\n          <v-col>\r\n            <select v-model=\"selected1\" @change=\"fetchData\">\r\n              <option v-for=\"(d, i) in options1\" :key=\"i\" :value=\"d.value\">\r\n                {{ d.text }}\r\n              </option>\r\n            </select>\r\n          </v-col>\r\n          <v-col>\r\n            <select v-model=\"selected2\" @change=\"fetchData\">\r\n              <option v-for=\"(d, i) in options2\" :key=\"i\" :value=\"d.value\">\r\n                {{ d.text }}\r\n              </option>\r\n            </select>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col>\r\n            <v-row>\r\n              <v-col>종목코드</v-col>\r\n              <v-col>종목명</v-col>\r\n              <v-col>수급주체</v-col>\r\n              <v-col>순거래 합산</v-col>\r\n            </v-row>\r\n            <v-row v-for=\"(item, index) in contents1\" v-bind:key=\"index\">\r\n              <v-col><a @click=\"doInfo(item.code, item.name)\">{{item.code}}</a></v-col>\r\n              <v-col><a @click=\"doInfo(item.code, item.name)\">{{item.name}}</a></v-col>\r\n              <v-col>{{item.tr_subject}}</v-col>\r\n              <v-col>{{item.volumn}}</v-col>\r\n            </v-row>\r\n          </v-col>\r\n          <v-col>\r\n            <v-row>\r\n              <v-col>종목코드</v-col>\r\n              <v-col>종목명</v-col>\r\n              <v-col>수급주체</v-col>\r\n              <v-col>순거래 합산</v-col>\r\n            </v-row>\r\n            <v-row v-for=\"(item, index) in contents2\" v-bind:key=\"index\">\r\n              <v-col><a @click=\"doInfo(item.code, item.name)\">{{item.code}}</a></v-col>\r\n              <v-col><a @click=\"doInfo(item.code, item.name)\">{{item.name}}</a></v-col>\r\n              <v-col>{{item.tr_subject}}</v-col>\r\n              <v-col>{{item.volumn}}</v-col>\r\n            </v-row>\r\n          </v-col>\r\n          \r\n        </v-row>\r\n        \r\n    </v-container>      \r\n  </div>\r\n</template>\r\n<script>\r\n  import axios from \"axios\";\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n          result: null,\r\n          contents1: null,\r\n          contents2: null,\r\n          yyyy: null,\r\n          mm: null,\r\n          dd: null,\r\n          hour: null,\r\n          minute: null,\r\n          charturl: null,\r\n          selected1: '순매수',\r\n          options1: [\r\n            { text: '순매수', value: '순매수' },\r\n            { text: '순매도', value: '순매도' }          \r\n          ],\r\n          selected2: '코스피',\r\n          options2: [\r\n            { text: '코스피', value: '코스피' },\r\n            { text: '코스닥', value: '코스닥' }          \r\n          ],  \r\n          data: {\r\n            tr_subject: null,\r\n            tr_type: null,\r\n            market_type: null,\r\n          }\r\n        };\r\n    },\r\n    methods : {\r\n      fetchData: function(){\r\n        axios({\r\n          method: \"GET\",\r\n          url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\r\n          params:{\r\n            tr_subject: '기관',\r\n            tr_type: this.selected1,\r\n            market_type: this.selected2            \r\n          }\r\n          \r\n        }).then(response => {\r\n          console.log(\"Success\", response.data)\r\n          this.contents1 = response.data;\r\n          this.yyyy = response.data[0].tr_day.substr(0,4) + \"년\";\r\n          this.mm = response.data[0].tr_day.substr(4,2) + \"월\";\r\n          this.dd = response.data[0].tr_day.substr(6,2) + \"일\";\r\n          this.hour = response.data[0].tr_time.substr(0,2) + \"시\";\r\n          this.minute = response.data[0].tr_time.substr(2,2) + \"분\";\r\n        }).catch(error => {\r\n          alert(\"처리 에러\")\r\n          console.log(\"Failed to fetchData\", error.response);\r\n        });\r\n        axios({\r\n          method: \"GET\",\r\n          url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\r\n          params:{\r\n            tr_subject: '외국인',\r\n            tr_type: this.selected1,\r\n            market_type: this.selected2            \r\n          }\r\n          \r\n        }).then(response => {\r\n          console.log(\"Success\", response.data)\r\n          this.contents2 = response.data;\r\n        }).catch(error => {\r\n          alert(\"처리 에러\")\r\n          console.log(\"Failed to fetchData\", error.response);\r\n        });\r\n      },\r\n      doInfo(code, name){\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"http://phills2.gonetis.com:8000/stockOrder/chart/\",\r\n            params:{\r\n              code: code.trim(),\r\n              company: name.trim(),\r\n            }\r\n            \r\n          }).then(response => {\r\n            console.log(\"Success\", response)\r\n            this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/\"+response.data[0].name+\"/\"\r\n            window.open(this.charturl, \"\", \"_blank\"); \r\n            this.charturl = null\r\n          }).catch(error => {\r\n            alert(\"처리 에러\")\r\n            console.log(\"Failed to doInfo\", error.response);\r\n          }); \r\n        if(this.charturl != null) \r\n            window.open(this.charturl, \"\", \"_blank\"); \r\n      },\r\n    },\r\n    created() { \r\n      this.fetchData();\r\n    }\r\n  }\r\n</script>\r\n  \r\n\r\n  \r\n  \r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}