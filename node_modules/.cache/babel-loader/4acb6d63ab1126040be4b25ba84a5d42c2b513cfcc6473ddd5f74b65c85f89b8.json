{"ast":null,"code":"import { ref, defineComponent } from 'vue';\nimport axios from \"axios\";\nimport { AgGridVue } from 'ag-grid-vue3';\nimport 'ag-grid-community/styles/ag-grid.css';\nimport 'ag-grid-community/styles/ag-theme-balham.css';\nimport 'ag-grid-community/styles/ag-theme-quartz.css';\nlet url = \"http://phills2.gonetis.com:8000/stockBalance/balanceList/\"; //장고 서버 주소\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    AgGridVue\n  },\n  setup() {\n    const defaultColDef = ref({\n      flex: 1,\n      minWidth: 100\n      //editable: true,\n    });\n\n    const colDefs = ref([{\n      headerName: 'No',\n      colId: 0,\n      valueGetter: params => {\n        return params.node.rowIndex + 1;\n      }\n    }, {\n      headerName: '종목코드',\n      field: 'code'\n    }, {\n      headerName: '종목명',\n      field: 'name'\n    }, {\n      headerName: '매입가',\n      field: 'purchase_price',\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '현재가',\n      field: 'current_price',\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '수익률',\n      field: 'earnings_rate',\n      valueFormatter: params => {\n        return params.value.toLocaleString() + '%';\n      }\n    }, {\n      headerName: '거래량비율',\n      field: 'prdy_vol_rate',\n      valueFormatter: params => {\n        return params.value.toLocaleString() + '%';\n      }\n    }, {\n      headerName: '저항가격',\n      field: 'sign_resist_price',\n      cellStyle: params => {\n        if (params.data.K_sign_resist_price === '1') {\n          return {\n            color: 'orange',\n            'font-weight': 'bold'\n          };\n        }\n      },\n      valueSetter: params => {\n        params.data.sign_resist_price = params.newValue;\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockBalance/update/\",\n          params: {\n            id: params.data.id,\n            sign_resist_price: params.newValue,\n            sign_support_price: params.data.sign_support_price,\n            end_target_price: params.data.end_target_price,\n            end_loss_price: params.data.end_loss_price,\n            trading_plan: params.data.trading_plan\n          }\n        }).then(response => {\n          console.log(\"Success\", response);\n        }).catch(error => {\n          alert(\"처리 에러\");\n          console.log(\"Failed to updateItem1\", error.response);\n        });\n        return true;\n      },\n      editable: true,\n      cellEditor: 'agTextCellEditor',\n      cellEditorParams: {\n        min: 0,\n        max: 9999999\n      },\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '지지가격',\n      field: 'sign_support_price',\n      cellStyle: params => {\n        if (params.data.D_sign_support_price === '1') {\n          return {\n            color: 'skyblue',\n            'font-weight': 'bold'\n          };\n        }\n      },\n      valueSetter: params => {\n        params.data.sign_support_price = params.newValue;\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockBalance/update/\",\n          params: {\n            id: params.data.id,\n            sign_resist_price: params.data.sign_resist_price,\n            sign_support_price: params.newValue,\n            end_target_price: params.data.end_target_price,\n            end_loss_price: params.data.end_loss_price,\n            trading_plan: params.data.trading_plan\n          }\n        }).then(response => {\n          console.log(\"Success\", response);\n        }).catch(error => {\n          alert(\"처리 에러\");\n          console.log(\"Failed to updateItem1\", error.response);\n        });\n        return true;\n      },\n      editable: true,\n      cellEditor: 'agTextCellEditor',\n      cellEditorParams: {\n        min: 0,\n        max: 9999999\n      },\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '목표가격',\n      field: 'end_target_price',\n      cellStyle: params => {\n        if (params.data.K_target_price === '1') {\n          return {\n            color: 'red',\n            'font-weight': 'bold'\n          };\n        }\n      },\n      valueSetter: params => {\n        params.data.end_target_price = params.newValue;\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockBalance/update/\",\n          params: {\n            id: params.data.id,\n            sign_resist_price: params.data.sign_resist_price,\n            sign_support_price: params.data.sign_support_price,\n            end_target_price: params.newValue,\n            end_loss_price: params.data.end_loss_price,\n            trading_plan: params.data.trading_plan\n          }\n        }).then(response => {\n          console.log(\"Success\", response);\n        }).catch(error => {\n          alert(\"처리 에러\");\n          console.log(\"Failed to updateItem1\", error.response);\n        });\n        return true;\n      },\n      editable: true,\n      cellEditor: 'agTextCellEditor',\n      cellEditorParams: {\n        min: 0,\n        max: 9999999\n      },\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '이탈가격',\n      field: 'end_loss_price',\n      cellStyle: params => {\n        if (params.data.D_loss_price === '1') {\n          return {\n            color: 'blue',\n            'font-weight': 'bold'\n          };\n        }\n      },\n      valueSetter: params => {\n        params.data.end_loss_price = params.newValue;\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockBalance/update/\",\n          params: {\n            id: params.data.id,\n            sign_resist_price: params.data.sign_resist_price,\n            sign_support_price: params.data.sign_support_price,\n            end_target_price: params.data.end_target_price,\n            end_loss_price: params.newValue,\n            trading_plan: params.data.trading_plan\n          }\n        }).then(response => {\n          console.log(\"Success\", response);\n        }).catch(error => {\n          alert(\"처리 에러\");\n          console.log(\"Failed to updateItem1\", error.response);\n        });\n        return true;\n      },\n      editable: true,\n      cellEditor: 'agTextCellEditor',\n      cellEditorParams: {\n        min: 0,\n        max: 9999999\n      },\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '보유수량',\n      field: 'purchase_amount',\n      valueFormatter: params => {\n        return params.value.toLocaleString() + '주';\n      }\n    }, {\n      headerName: '매입총액',\n      field: 'purchase_sum',\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '평가금액',\n      field: 'eval_sum',\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '증감액',\n      field: 'valuation_sum',\n      valueFormatter: params => {\n        return '￦' + params.value.toLocaleString();\n      }\n    }, {\n      headerName: '매매계획',\n      field: 'trading_plan',\n      valueFormatter: params => {\n        return params.value === 'B' ? '매수' : params.value === 'S' ? '매도' : params.value === 'H' ? '보유' : '';\n      },\n      valueSetter: params => {\n        params.data.trading_plan = params.newValue;\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockBalance/update/\",\n          params: {\n            id: params.data.id,\n            sign_resist_price: params.data.sign_resist_price,\n            sign_support_price: params.data.sign_support_price,\n            end_target_price: params.data.end_target_price,\n            end_loss_price: params.data.end_loss_price,\n            trading_plan: params.newValue\n          }\n        }).then(response => {\n          console.log(\"Success\", response);\n        }).catch(error => {\n          alert(\"처리 에러\");\n          console.log(\"Failed to updateItem1\", error.response);\n        });\n        return true;\n      },\n      editable: true,\n      cellEditor: 'agSelectCellEditor',\n      cellEditorParams: {\n        values: ['H', 'S', 'B']\n      }\n    }, {\n      headerName: '시가총액',\n      field: 'total_market_value',\n      valueFormatter: params => {\n        return params.value.toLocaleString() + '억원';\n      }\n    }]);\n    return {\n      defaultColDef,\n      colDefs\n    };\n  },\n  data() {\n    return {\n      rowData: [],\n      charturl: null,\n      data: {\n        sign_resist_price: \"\",\n        sign_support_price: \"\",\n        end_loss_price: \"\",\n        end_target_price: \"\",\n        trading_plan: \"\"\n      }\n    };\n  },\n  methods: {\n    onCellClicked: e => {\n      let charturl = null;\n      if (e.column.colId === 'code') {\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockOrder/chart/\",\n          params: {\n            code: e.data.code.trim(),\n            company: e.data.name.trim()\n          }\n        }).then(response => {\n          console.log(\"Success\", response);\n          charturl = \"http://phills2.gonetis.com:8000/stockOrder/\" + response.data[0].name + \"/\";\n          window.open(charturl, \"\", \"_blank\");\n          charturl = null;\n        }).catch(error => {\n          alert(\"처리 에러\");\n          console.log(\"Failed to doInfo\", error.response);\n        });\n        if (charturl != null) window.open(charturl, \"\", \"_blank\");\n      }\n      if (e.column.colId === 'name') {\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockOrder/minutesInfo/\",\n          params: {\n            code: e.data.code.trim(),\n            company: e.data.name.trim(),\n            app_key: e.data.app_key,\n            app_secret: e.data.app_secret,\n            access_token: e.data.access_token\n          }\n        }).then(response => {\n          console.log(\"Success\", response);\n          charturl = \"http://phills2.gonetis.com:8000/stockOrder/minutes_\" + response.data[0].name + \"/\";\n          window.open(charturl, \"\", \"_blank\");\n          charturl = null;\n        }).catch(error => {\n          alert(\"처리 에러\");\n          console.log(\"Failed to minutesInfo\", error.response);\n        });\n        if (charturl != null) window.open(charturl, \"\", \"_blank\");\n      }\n    },\n    fetchData() {\n      axios({\n        method: \"GET\",\n        url: url,\n        params: {\n          acct_no: this.$route.params.acct_no,\n          app_key: this.$route.params.app_key,\n          app_secret: this.$route.params.app_secret,\n          access_token: this.$route.params.access_token\n        }\n      }).then(response => {\n        console.log('Success', response.data);\n        this.rowData = response.data;\n        this.rowData.forEach(data => {\n          data.acct_no = this.$route.params.acct_no;\n        });\n        this.rowData.forEach(data => {\n          data.app_key = this.$route.params.app_key;\n        });\n        this.rowData.forEach(data => {\n          data.app_secret = this.$route.params.app_secret;\n        });\n        this.rowData.forEach(data => {\n          data.access_token = this.$route.params.access_token;\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    marketReg() {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockFundMng/marketReg/\",\n        params: {\n          acct_no: this.$route.params.acct_no,\n          app_key: this.$route.params.app_key,\n          app_secret: this.$route.params.app_secret,\n          access_token: this.$route.params.access_token\n        }\n      }).then(response => {\n        console.log('trail_signal:', response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    riskReg() {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockMarketMng/list/\",\n        params: {\n          acct_no: this.$route.params.acct_no,\n          app_key: this.$route.params.app_key,\n          app_secret: this.$route.params.app_secret,\n          access_token: this.$route.params.access_token\n        }\n      }).then(response => {\n        console.log('market_mng :', response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  },\n  created() {\n    this.fetchData();\n    this.marketReg();\n    this.riskReg();\n  }\n});","map":{"version":3,"mappings":"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","names":["ref","defineComponent","axios","AgGridVue","url","name","components","setup","defaultColDef","flex","minWidth","colDefs","headerName","colId","valueGetter","params","node","rowIndex","field","valueFormatter","value","toLocaleString","cellStyle","data","K_sign_resist_price","color","valueSetter","sign_resist_price","newValue","method","id","sign_support_price","end_target_price","end_loss_price","trading_plan","then","response","console","log","catch","error","alert","editable","cellEditor","cellEditorParams","min","max","D_sign_support_price","K_target_price","D_loss_price","values","rowData","charturl","methods","onCellClicked","e","column","code","trim","company","window","open","app_key","app_secret","access_token","fetchData","acct_no","$route","forEach","marketReg","riskReg","created"],"sourceRoot":"","sources":["/home/terra/Github/fund_risk_management/src/components/StockBalance.vue"],"sourcesContent":["<template>\n  <div>\n    <v-container fluid>\n        <v-row>\n          <v-col align=\"center\">\n            <v-subheader>\n              [잔고 종목]\n            </v-subheader>\n          </v-col>\n        </v-row>\n        <ag-grid-vue \n          style=\"width: 100%; height: 300px;\" \n          class=\"ag-theme-balham\" \n          :columnDefs=\"colDefs\" \n          :rowData=\"rowData\" \n          :paginationAutoPageSize=\"true\"\n          :pagination=\"true\"\n          :defaultColDef=\"defaultColDef\"\n          @cellClicked=\"onCellClicked\"\n        />\n    </v-container>      \n  </div>\n</template>\n\n<script>\nimport { ref, defineComponent } from 'vue';\nimport axios from \"axios\";\nimport {AgGridVue} from 'ag-grid-vue3';\nimport 'ag-grid-community/styles/ag-grid.css';\nimport 'ag-grid-community/styles/ag-theme-balham.css';\nimport 'ag-grid-community/styles/ag-theme-quartz.css';\n\nlet url = \"http://phills2.gonetis.com:8000/stockBalance/balanceList/\"; //장고 서버 주소\n\nexport default defineComponent({\n  name: 'App',\n  components:{\n    AgGridVue\n  },\n  setup(){\n\n    const defaultColDef = ref({\n      flex: 1,\n      minWidth: 100,\n      //editable: true,\n    });\n\n    const colDefs = ref([\n      {headerName: 'No', colId: 0, valueGetter: (params) => { return params.node.rowIndex + 1 } },\n      {headerName: '종목코드', field: 'code'},\n      {headerName: '종목명', field: 'name'},\n      {headerName: '매입가', field: 'purchase_price', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '현재가', field: 'current_price', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '수익률', field: 'earnings_rate', valueFormatter: (params) => {return  params.value.toLocaleString() + '%';},},\n      {headerName: '거래량비율', field: 'prdy_vol_rate', valueFormatter: (params) => {return  params.value.toLocaleString() + '%';},},\n      {headerName: '저항가격', field: 'sign_resist_price', cellStyle: params=> {\n        if(params.data.K_sign_resist_price === '1' ) {\n          return {color:'orange', 'font-weight': 'bold'}\n        }\n      }, valueSetter: params => {\n                \n        params.data.sign_resist_price = params.newValue;\n\n        axios({\n                method: \"GET\",\n                url: \"http://phills2.gonetis.com:8000/stockBalance/update/\",\n                params:{\n                  id: params.data.id,\n                  sign_resist_price: params.newValue,\n                  sign_support_price: params.data.sign_support_price,\n                  end_target_price: params.data.end_target_price,\n                  end_loss_price: params.data.end_loss_price,\n                  trading_plan: params.data.trading_plan\n                }\n                \n                }).then(response => {\n                  console.log(\"Success\", response)\n                }).catch(error => {\n                  alert(\"처리 에러\")\n                  console.log(\"Failed to updateItem1\", error.response);\n                });\n                return true;\n      }, editable: true, cellEditor: 'agTextCellEditor', cellEditorParams: { min: 0, max: 9999999 }, valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '지지가격', field: 'sign_support_price', cellStyle: params=> {\n        if(params.data.D_sign_support_price === '1' ) {\n          return {color:'skyblue', 'font-weight': 'bold'}\n        }\n      }, valueSetter: params => {\n                \n        params.data.sign_support_price = params.newValue;\n\n        axios({\n                method: \"GET\",\n                url: \"http://phills2.gonetis.com:8000/stockBalance/update/\",\n                params:{\n                  id: params.data.id,\n                  sign_resist_price: params.data.sign_resist_price,\n                  sign_support_price: params.newValue,\n                  end_target_price: params.data.end_target_price,\n                  end_loss_price: params.data.end_loss_price,\n                  trading_plan: params.data.trading_plan\n                }\n                \n                }).then(response => {\n                  console.log(\"Success\", response)\n                }).catch(error => {\n                  alert(\"처리 에러\")\n                  console.log(\"Failed to updateItem1\", error.response);\n                });\n                return true;\n      }, editable: true, cellEditor: 'agTextCellEditor', cellEditorParams: { min: 0, max: 9999999 }, valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '목표가격', field: 'end_target_price', cellStyle: params=> {\n        if(params.data.K_target_price === '1' ) {\n          return {color:'red', 'font-weight': 'bold'}\n        }\n      }, valueSetter: params => {\n                \n        params.data.end_target_price = params.newValue;\n\n        axios({\n                method: \"GET\",\n                url: \"http://phills2.gonetis.com:8000/stockBalance/update/\",\n                params:{\n                  id: params.data.id,\n                  sign_resist_price: params.data.sign_resist_price,\n                  sign_support_price: params.data.sign_support_price,\n                  end_target_price: params.newValue,\n                  end_loss_price: params.data.end_loss_price,\n                  trading_plan: params.data.trading_plan\n                }\n                \n                }).then(response => {\n                  console.log(\"Success\", response)\n                }).catch(error => {\n                  alert(\"처리 에러\")\n                  console.log(\"Failed to updateItem1\", error.response);\n                });\n                return true;\n      }, editable: true, cellEditor: 'agTextCellEditor', cellEditorParams: { min: 0, max: 9999999 }, valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '이탈가격', field: 'end_loss_price', cellStyle: params=> {\n        if(params.data.D_loss_price === '1' ) {\n          return {color:'blue', 'font-weight': 'bold'}\n        }\n      }, valueSetter: params => {\n                \n        params.data.end_loss_price = params.newValue;\n\n        axios({\n                method: \"GET\",\n                url: \"http://phills2.gonetis.com:8000/stockBalance/update/\",\n                params:{\n                  id: params.data.id,\n                  sign_resist_price: params.data.sign_resist_price,\n                  sign_support_price: params.data.sign_support_price,\n                  end_target_price: params.data.end_target_price,\n                  end_loss_price: params.newValue,\n                  trading_plan: params.data.trading_plan\n                }\n                \n                }).then(response => {\n                    console.log(\"Success\", response)\n                }).catch(error => {\n                    alert(\"처리 에러\")\n                    console.log(\"Failed to updateItem1\", error.response);\n                });\n                return true;\n      }, editable: true, cellEditor: 'agTextCellEditor', cellEditorParams: { min: 0, max: 9999999 }, valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '보유수량', field: 'purchase_amount', valueFormatter: (params) => {return params.value.toLocaleString() + '주';},},\n      {headerName: '매입총액', field: 'purchase_sum', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '평가금액', field: 'eval_sum', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '증감액', field: 'valuation_sum', valueFormatter: (params) => {return '￦' + params.value.toLocaleString();},},\n      {headerName: '매매계획', field: 'trading_plan', valueFormatter: (params) => {return params.value === 'B' ? '매수' : params.value === 'S' ? '매도' : params.value === 'H' ? '보유' : ''}, valueSetter: params => {\n                \n        params.data.trading_plan = params.newValue;\n\n        axios({\n                method: \"GET\",\n                url: \"http://phills2.gonetis.com:8000/stockBalance/update/\",\n                params:{\n                  id: params.data.id,\n                  sign_resist_price: params.data.sign_resist_price,\n                  sign_support_price: params.data.sign_support_price,\n                  end_target_price: params.data.end_target_price,\n                  end_loss_price: params.data.end_loss_price,\n                  trading_plan: params.newValue\n                }\n                \n                }).then(response => {\n                  console.log(\"Success\", response)\n                }).catch(error => {\n                  alert(\"처리 에러\")\n                  console.log(\"Failed to updateItem1\", error.response);\n                });\n                return true;\n      }, editable: true, cellEditor: 'agSelectCellEditor', cellEditorParams: {values:['H','S','B']},},\n      {headerName: '시가총액', field: 'total_market_value', valueFormatter: (params) => {return params.value.toLocaleString() + '억원';},},\n    ]);\n\n    return {\n      defaultColDef,\n      colDefs\n    }\n  },\n  data() {\n    return {\n        rowData: [],\n        charturl: null,\n        data: {\n          sign_resist_price: \"\",\n          sign_support_price: \"\",\n          end_loss_price: \"\",\n          end_target_price: \"\",\n          trading_plan: \"\",\n        },\n    };\n  },\n  methods: {\n    onCellClicked: (e) =>{\n      let charturl = null;\n                \n      if(e.column.colId === 'code'){\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockOrder/chart/\",\n          params:{\n            code: e.data.code.trim(),\n            company: e.data.name.trim(),\n          }\n                                                \n        }).then(response => {\n          console.log(\"Success\", response)\n          charturl = \"http://phills2.gonetis.com:8000/stockOrder/\"+response.data[0].name+\"/\"\n          window.open(charturl, \"\", \"_blank\"); \n          charturl = null\n        }).catch(error => {\n          alert(\"처리 에러\")\n          console.log(\"Failed to doInfo\", error.response);\n        }); \n        if(charturl != null) \n          window.open(charturl, \"\", \"_blank\"); \n      }    \n\n      if(e.column.colId === 'name'){  \n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockOrder/minutesInfo/\",\n          params:{\n            code: e.data.code.trim(),\n            company: e.data.name.trim(),\n            app_key: e.data.app_key,\n            app_secret: e.data.app_secret,\n            access_token: e.data.access_token\n          }\n                                    \n        }).then(response => {\n          console.log(\"Success\", response)\n          charturl = \"http://phills2.gonetis.com:8000/stockOrder/minutes_\"+response.data[0].name+\"/\"\n          window.open(charturl, \"\", \"_blank\"); \n          charturl = null\n        }).catch(error => {\n          alert(\"처리 에러\")\n          console.log(\"Failed to minutesInfo\", error.response);\n        }); \n        if(charturl != null) \n          window.open(charturl, \"\", \"_blank\"); \n      }\n    },     \n    fetchData(){\n      axios({\n      method: \"GET\",\n      url: url,\n      params:{\n        acct_no: this.$route.params.acct_no,\n        app_key: this.$route.params.app_key,\n        app_secret: this.$route.params.app_secret,\n        access_token: this.$route.params.access_token\n      }\n    })\n    .then(response => {\n      console.log('Success', response.data)\n      this.rowData = response.data;\n      this.rowData.forEach(data => {data.acct_no = this.$route.params.acct_no})\n      this.rowData.forEach(data => {data.app_key = this.$route.params.app_key})\n      this.rowData.forEach(data => {data.app_secret = this.$route.params.app_secret})\n      this.rowData.forEach(data => {data.access_token = this.$route.params.access_token})\n    })\n    .catch(error => {\n      console.log(error)\n    })\n    },\n    marketReg(){\n      axios({\n      method: \"GET\",\n      url: \"http://phills2.gonetis.com:8000/stockFundMng/marketReg/\",\n      params:{\n        acct_no: this.$route.params.acct_no,\n        app_key: this.$route.params.app_key,\n        app_secret: this.$route.params.app_secret,\n        access_token: this.$route.params.access_token\n      }\n    })\n    .then(response => {\n      console.log('trail_signal:', response.data)\n    })\n    .catch(error => {\n      console.log(error)\n    })\n    },\n    riskReg(){\n      axios({\n      method: \"GET\",\n      url: \"http://phills2.gonetis.com:8000/stockMarketMng/list/\",\n      params:{\n        acct_no: this.$route.params.acct_no,\n        app_key: this.$route.params.app_key,\n        app_secret: this.$route.params.app_secret,\n        access_token: this.$route.params.access_token\n      }\n    })\n    .then(response => {\n      console.log('market_mng :', response.data)\n    })\n    .catch(error => {\n      console.log(error)\n    })\n    }\n  },\n  created() { \n    this.fetchData();\n    this.marketReg();\n    this.riskReg();\n  }\n\n  \n});\n</script>\n<style scoped>\n.up {\n    font-weight: bold;\n    color: red;\n}\n.down {\n  font-weight: bold;\n  color: blue;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}