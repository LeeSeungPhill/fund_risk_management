{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      result: null,\n      contents1: null,\n      contents2: null,\n      yyyy: null,\n      mm: null,\n      dd: null,\n      hour: null,\n      minute: null,\n      charturl: null,\n      selected1: '순매수',\n      options1: [{\n        text: '순매수',\n        value: '순매수'\n      }, {\n        text: '순매도',\n        value: '순매도'\n      }],\n      selected2: '코스피',\n      options2: [{\n        text: '코스피',\n        value: '코스피'\n      }, {\n        text: '코스닥',\n        value: '코스닥'\n      }],\n      data: {\n        tr_subject: null,\n        tr_type: null,\n        market_type: null\n      }\n    };\n  },\n  methods: {\n    fetchData: function () {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\n        params: {\n          tr_subject: '기관',\n          tr_type: this.selected1,\n          market_type: this.selected2\n        }\n      }).then(response => {\n        console.log(\"Success\", response.data);\n        this.contents1 = response.data;\n        this.yyyy = response.data[0].tr_day.substr(0, 4) + \"년\";\n        this.mm = response.data[0].tr_day.substr(4, 2) + \"월\";\n        this.dd = response.data[0].tr_day.substr(6, 2) + \"일\";\n        this.hour = response.data[0].tr_time.substr(0, 2) + \"시\";\n        this.minute = response.data[0].tr_time.substr(2, 2) + \"분\";\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to fetchData\", error.response);\n      });\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\n        params: {\n          tr_subject: '외국인',\n          tr_type: this.selected1,\n          market_type: this.selected2\n        }\n      }).then(response => {\n        console.log(\"Success\", response.data);\n        this.contents2 = response.data;\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to fetchData\", error.response);\n      });\n    },\n    doInfo(code, name) {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/chart/\",\n        params: {\n          code: code.trim(),\n          company: name.trim()\n        }\n      }).then(response => {\n        console.log(\"Success\", response);\n        this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/\" + response.data[0].name + \"/\";\n        window.open(this.charturl, \"\", \"_blank\");\n        this.charturl = null;\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to doInfo\", error.response);\n      });\n      if (this.charturl != null) window.open(this.charturl, \"\", \"_blank\");\n    },\n    minutesInfo(code, name) {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/minutesInfo/\",\n        params: {\n          code: code.trim(),\n          company: name.trim(),\n          app_key: this.$route.params.app_key,\n          app_secret: this.$route.params.app_secret,\n          access_token: this.$route.params.access_token\n        }\n      }).then(response => {\n        console.log(\"Success\", response);\n        this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/minutes_\" + response.data[0].name + \"/\";\n        window.open(this.charturl, \"\", \"_blank\");\n        this.charturl = null;\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to minutesInfo\", error.response);\n      });\n      if (this.charturl != null) window.open(this.charturl, \"\", \"_blank\");\n    }\n  },\n  created() {\n    this.fetchData();\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","data","result","contents1","contents2","yyyy","mm","dd","hour","minute","charturl","selected1","options1","text","value","selected2","options2","tr_subject","tr_type","market_type","methods","fetchData","method","url","params","then","response","console","log","tr_day","substr","tr_time","catch","error","alert","doInfo","code","name","trim","company","window","open","minutesInfo","app_key","$route","app_secret","access_token","created"],"sourceRoot":"","sources":["/home/terra/Github/fund_risk_management/src/components/SubjectSubTotal.vue"],"sourcesContent":["<template>\n  <div>\n    <v-container>\n        <v-row align=\"center\">\n          <v-col>\n            <v-subheader>\n              [장중 투자자별 매매 상위 - {{this.yyyy}} {{this.mm}} {{this.dd}} {{this.hour}} {{this.minute}} 기준]\n            </v-subheader>\n          </v-col>\n          <v-col>\n            <select v-model=\"selected1\" @change=\"fetchData\">\n              <option v-for=\"(d, i) in options1\" :key=\"i\" :value=\"d.value\">\n                {{ d.text }}\n              </option>\n            </select>\n          </v-col>\n          <v-col>\n            <select v-model=\"selected2\" @change=\"fetchData\">\n              <option v-for=\"(d, i) in options2\" :key=\"i\" :value=\"d.value\">\n                {{ d.text }}\n              </option>\n            </select>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-row>\n              <v-col>종목코드</v-col>\n              <v-col>종목명</v-col>\n              <v-col>수급주체</v-col>\n              <v-col>순거래 합산</v-col>\n            </v-row>\n            <v-row v-for=\"(item, index) in contents1\" v-bind:key=\"index\">\n              <v-col><a @click=\"doInfo(item.code, item.name)\">{{item.code}}</a></v-col>\n              <v-col><a @click=\"minutesInfo(item.code, item.name)\">{{item.name}}</a></v-col>\n              <v-col>{{item.tr_subject}}</v-col>\n              <v-col>{{item.volumn}}</v-col>\n            </v-row>\n          </v-col>\n          <v-col>\n            <v-row>\n              <v-col>종목코드</v-col>\n              <v-col>종목명</v-col>\n              <v-col>수급주체</v-col>\n              <v-col>순거래 합산</v-col>\n            </v-row>\n            <v-row v-for=\"(item, index) in contents2\" v-bind:key=\"index\">\n              <v-col><a @click=\"doInfo(item.code, item.name)\">{{item.code}}</a></v-col>\n              <v-col><a @click=\"minutesInfo(item.code, item.name)\">{{item.name}}</a></v-col>\n              <v-col>{{item.tr_subject}}</v-col>\n              <v-col>{{item.volumn}}</v-col>\n            </v-row>\n          </v-col>\n          \n        </v-row>\n        \n    </v-container>      \n  </div>\n</template>\n<script>\n  import axios from \"axios\";\n\n  export default {\n    data() {\n      return {\n          result: null,\n          contents1: null,\n          contents2: null,\n          yyyy: null,\n          mm: null,\n          dd: null,\n          hour: null,\n          minute: null,\n          charturl: null,\n          selected1: '순매수',\n          options1: [\n            { text: '순매수', value: '순매수' },\n            { text: '순매도', value: '순매도' }          \n          ],\n          selected2: '코스피',\n          options2: [\n            { text: '코스피', value: '코스피' },\n            { text: '코스닥', value: '코스닥' }          \n          ],  \n          data: {\n            tr_subject: null,\n            tr_type: null,\n            market_type: null,\n          }\n        };\n    },\n    methods : {\n      fetchData: function(){\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\n          params:{\n            tr_subject: '기관',\n            tr_type: this.selected1,\n            market_type: this.selected2            \n          }\n          \n        }).then(response => {\n          console.log(\"Success\", response.data)\n          this.contents1 = response.data;\n          this.yyyy = response.data[0].tr_day.substr(0,4) + \"년\";\n          this.mm = response.data[0].tr_day.substr(4,2) + \"월\";\n          this.dd = response.data[0].tr_day.substr(6,2) + \"일\";\n          this.hour = response.data[0].tr_time.substr(0,2) + \"시\";\n          this.minute = response.data[0].tr_time.substr(2,2) + \"분\";\n        }).catch(error => {\n          alert(\"처리 에러\")\n          console.log(\"Failed to fetchData\", error.response);\n        });\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockOrder/subTotal/\",\n          params:{\n            tr_subject: '외국인',\n            tr_type: this.selected1,\n            market_type: this.selected2            \n          }\n          \n        }).then(response => {\n          console.log(\"Success\", response.data)\n          this.contents2 = response.data;\n        }).catch(error => {\n          alert(\"처리 에러\")\n          console.log(\"Failed to fetchData\", error.response);\n        });\n      },\n      doInfo(code, name){\n        axios({\n            method: \"GET\",\n            url: \"http://phills2.gonetis.com:8000/stockOrder/chart/\",\n            params:{\n              code: code.trim(),\n              company: name.trim(),\n            }\n            \n          }).then(response => {\n            console.log(\"Success\", response)\n            this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/\"+response.data[0].name+\"/\"\n            window.open(this.charturl, \"\", \"_blank\"); \n            this.charturl = null\n          }).catch(error => {\n            alert(\"처리 에러\")\n            console.log(\"Failed to doInfo\", error.response);\n          }); \n        if(this.charturl != null) \n            window.open(this.charturl, \"\", \"_blank\"); \n      },\n      minutesInfo(code, name){\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockOrder/minutesInfo/\",\n          params:{\n            code: code.trim(),\n            company: name.trim(),\n            app_key: this.$route.params.app_key,\n            app_secret: this.$route.params.app_secret,\n            access_token: this.$route.params.access_token\n          }\n                    \n        }).then(response => {\n          console.log(\"Success\", response)\n          this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/minutes_\"+response.data[0].name+\"/\"\n          window.open(this.charturl, \"\", \"_blank\"); \n          this.charturl = null\n        }).catch(error => {\n          alert(\"처리 에러\")\n          console.log(\"Failed to minutesInfo\", error.response);\n        }); \n        if(this.charturl != null) \n          window.open(this.charturl, \"\", \"_blank\"); \n      },\n    },\n    created() { \n      this.fetchData();\n    }\n  }\n</script>\n  \n\n  \n  \n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}