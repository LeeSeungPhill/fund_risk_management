{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      code: null,\n      name: null,\n      now_price: null,\n      high_price: null,\n      low_price: null,\n      open_price: null,\n      max_price: null,\n      min_price: null,\n      volumn: null,\n      total_market_value: null,\n      prdy_vol_rate: null,\n      charturl: null,\n      data: {\n        company: \"\",\n        through_price: \"\",\n        leave_price: \"\",\n        resist_price: \"\",\n        support_price: \"\",\n        trend_high_price: \"\",\n        trend_low_price: \"\",\n        buy_expect_sum: \"\"\n      }\n    };\n  },\n  methods: {\n    closePopup: function () {\n      this.$emit('close-popup');\n    },\n    searchStock: function (data) {\n      axios({\n        method: \"GET\",\n        url: \"http://phills2.gonetis.com:8000/stockOrder/info/\",\n        params: {\n          company: data.company,\n          app_key: this.$route.params.app_key,\n          app_secret: this.$route.params.app_secret,\n          access_token: this.$route.params.access_token\n        }\n      }).then(response => {\n        console.log(\"Success\", response);\n        this.now_price = response.data[0].now_price;\n        this.high_price = response.data[0].high_price;\n        this.low_price = response.data[0].low_price;\n        this.open_price = response.data[0].open_price;\n        this.max_price = response.data[0].max_price;\n        this.min_price = response.data[0].min_price;\n        this.volumn = response.data[0].volumn;\n        this.total_market_value = response.data[0].total_market_value;\n        this.prdy_vol_rate = response.data[0].prdy_vol_rate;\n        this.code = response.data[0].code;\n        this.name = data.company;\n        this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/\" + data.company + \"/\";\n        window.open(this.charturl, \"\", \"_blank\");\n      }).catch(error => {\n        alert(\"처리 에러\");\n        console.log(\"Failed to searchStock\", error.response);\n      });\n    },\n    minutesInfo: function () {\n      if (this.code != null && this.name != null) {\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockOrder/minutesInfo/\",\n          params: {\n            code: this.code,\n            company: this.name,\n            app_key: this.$route.params.app_key,\n            app_secret: this.$route.params.app_secret,\n            access_token: this.$route.params.access_token\n          }\n        }).then(response => {\n          console.log(\"Success\", response);\n          this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/minutes_\" + response.data[0].name + \"/\";\n          window.open(this.charturl, \"\", \"_blank\");\n          this.charturl = null;\n        }).catch(error => {\n          alert(\"처리 에러\");\n          console.log(\"Failed to minutesInfo\", error.response);\n        });\n      }\n    },\n    clearForm: function () {\n      this.data.company = \"\", this.data.through_price = \"\", this.data.leave_price = \"\", this.data.resist_price = \"\", this.data.support_price = \"\", this.data.trend_high_price = \"\", this.data.trend_low_price = \"\", this.data.buy_expect_sum = \"\";\n    },\n    saveInterestItem: function () {\n      axios({\n        method: \"POST\",\n        url: \"http://phills2.gonetis.com:8000/kis/interestItem/\",\n        data: {\n          acct_no: this.$route.params.acct_no,\n          code: this.code,\n          name: this.data.company,\n          through_price: this.data.through_price,\n          leave_price: this.data.leave_price,\n          resist_price: this.data.resist_price,\n          support_price: this.data.support_price,\n          trend_high_price: this.data.trend_high_price,\n          trend_low_price: this.data.trend_low_price,\n          buy_expect_sum: this.data.buy_expect_sum\n        }\n      }).then(response => {\n        console.log(\"Success\", response);\n        alert(\"관심종목등록 완료\");\n        this.$router.push('/').catch(() => {});\n        this.clearForm();\n      }).catch(error => {\n        alert(\"관심종목등록 실패\");\n        console.log(\"Failed to saveInterestItem\", error.response);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","data","code","name","now_price","high_price","low_price","open_price","max_price","min_price","volumn","total_market_value","prdy_vol_rate","charturl","company","through_price","leave_price","resist_price","support_price","trend_high_price","trend_low_price","buy_expect_sum","methods","closePopup","$emit","searchStock","method","url","params","app_key","$route","app_secret","access_token","then","response","console","log","window","open","catch","error","alert","minutesInfo","clearForm","saveInterestItem","acct_no","$router","push"],"sourceRoot":"","sources":["/home/terra/Github/fund_risk_management/src/components/StockInfo.vue"],"sourcesContent":["<template>\n  <div class=\"close-image\">\n      <v-container>\n        <v-row>\n          <v-col>\n            <v-text-field v-model=\"data.company\" label=\"종목명\" @keypress.enter=\"searchStock(data);\"></v-text-field>\n          </v-col>    \n          <v-col>시가총액 : {{total_market_value}} 억원 <v-btn @click=\"closePopup()\" style=\"background: gray\">닫기</v-btn>\n          </v-col>   \n        </v-row>\n        <v-row>\n          <v-col>종목코드 : {{code}}</v-col>\n          <v-col>현재가 : {{now_price}}</v-col>\n          <v-col>최고가 : {{high_price}}</v-col>\n          <v-col>최저가 : {{low_price}}</v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            거래량 (전일대비거래량) : {{volumn}} ({{prdy_vol_rate}})</v-col>\n          <v-col>시가 : {{open_price}}</v-col>\n          <v-col>상한가 : {{max_price}}</v-col>\n          <v-col>하한가 : {{min_price}}</v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-text-field v-model=\"data.through_price\" label=\"돌파가격\" ></v-text-field>\n            <v-text-field v-model=\"data.leave_price\" label=\"이탈가격\" ></v-text-field>\n          </v-col>\n          <v-col>\n            <v-text-field v-model=\"data.resist_price\" label=\"저항가격\" ></v-text-field>\n            <v-text-field v-model=\"data.support_price\" label=\"지지가격\" ></v-text-field>\n          </v-col>\n          <v-col>\n            <v-text-field v-model=\"data.trend_high_price\" label=\"추세상단가격\" ></v-text-field>\n            <v-text-field v-model=\"data.trend_low_price\" label=\"추세하단가격\" ></v-text-field>\n          </v-col>\n          <v-col>\n            <v-text-field v-model=\"data.buy_expect_sum\" label=\"매수예상금액\" ></v-text-field>\n            <v-btn @click=\"saveInterestItem\" style=\"background: darkseagreen\">등록</v-btn>\n            <v-btn @click=\"minutesInfo\" style=\"background: darkgoldenrod\">분봉</v-btn>\n          </v-col>            \n        </v-row>\n      </v-container>\n  </div>\n</template>\n<script>\n  import axios from \"axios\";\n\n  export default {\n    data() {\n      return {\n          code: null,\n          name: null,\n          now_price: null,\n          high_price: null,\n          low_price: null,\n          open_price: null,\n          max_price: null,\n          min_price: null,\n          volumn: null,\n          total_market_value: null,\n          prdy_vol_rate: null,\n          charturl: null,\n          data: {\n            company: \"\",\n            through_price: \"\",\n            leave_price: \"\",\n            resist_price: \"\",\n            support_price: \"\",\n            trend_high_price: \"\",\n            trend_low_price: \"\",\n            buy_expect_sum: \"\"\n          }\n        };\n    },\n    methods : {\n      closePopup: function(){\n        this.$emit('close-popup')\n      },\n      searchStock: function(data){\n        axios({\n          method: \"GET\",\n          url: \"http://phills2.gonetis.com:8000/stockOrder/info/\",\n          params:{\n            company: data.company,\n            app_key: this.$route.params.app_key,\n            app_secret: this.$route.params.app_secret,\n            access_token: this.$route.params.access_token\n          }\n          \n        }).then(response => {\n          console.log(\"Success\", response)\n          this.now_price = response.data[0].now_price\n          this.high_price = response.data[0].high_price\n          this.low_price = response.data[0].low_price\n          this.open_price = response.data[0].open_price\n          this.max_price = response.data[0].max_price\n          this.min_price = response.data[0].min_price\n          this.volumn = response.data[0].volumn\n          this.total_market_value = response.data[0].total_market_value\n          this.prdy_vol_rate = response.data[0].prdy_vol_rate\n          this.code = response.data[0].code\n          this.name = data.company\n          this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/\"+data.company+\"/\"\n          window.open(this.charturl, \"\", \"_blank\"); \n        }).catch(error => {\n          alert(\"처리 에러\")\n          console.log(\"Failed to searchStock\", error.response);\n        });\n      },\n      minutesInfo: function(){\n        if (this.code != null && this.name != null){\n          axios({\n            method: \"GET\",\n            url: \"http://phills2.gonetis.com:8000/stockOrder/minutesInfo/\",\n            params:{\n              code: this.code,\n              company: this.name,\n              app_key: this.$route.params.app_key,\n              app_secret: this.$route.params.app_secret,\n              access_token: this.$route.params.access_token\n            }\n                      \n          }).then(response => {\n            console.log(\"Success\", response)\n            this.charturl = \"http://phills2.gonetis.com:8000/stockOrder/minutes_\"+response.data[0].name+\"/\"\n            window.open(this.charturl, \"\", \"_blank\"); \n            this.charturl = null\n          }).catch(error => {\n            alert(\"처리 에러\")\n            console.log(\"Failed to minutesInfo\", error.response);\n          }); \n        }\n      },\n      clearForm: function() {\n        (this.data.company = \"\"),(this.data.through_price = \"\"),(this.data.leave_price = \"\"),(this.data.resist_price = \"\"),(this.data.support_price = \"\"),(this.data.trend_high_price = \"\"),(this.data.trend_low_price = \"\"),(this.data.buy_expect_sum = \"\");\n      },\n      saveInterestItem: function(){\n          axios({\n            method: \"POST\",\n            url: \"http://phills2.gonetis.com:8000/kis/interestItem/\",\n            data: {\n              acct_no: this.$route.params.acct_no,\n              code: this.code,\n              name: this.data.company,\n              through_price: this.data.through_price,\n              leave_price: this.data.leave_price,\n              resist_price: this.data.resist_price,\n              support_price: this.data.support_price,\n              trend_high_price: this.data.trend_high_price,\n              trend_low_price: this.data.trend_low_price,\n              buy_expect_sum: this.data.buy_expect_sum\n            }, \n          }).then((response) => {\n            console.log(\"Success\", response);\n            alert(\"관심종목등록 완료\")\n            this.$router.push('/').catch(()=>{})\n            this.clearForm();\n          }).catch((error) => {\n            alert(\"관심종목등록 실패\")\n            console.log(\"Failed to saveInterestItem\", error.response);\n          }); \n      }\n    }\n}\n</script>\n  \n\n  \n  \n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}